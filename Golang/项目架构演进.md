# 项目架构演进

ECS 单节点、单体部署
LB Load Balance 多节点单体部署负载均衡
微服务化 + 容器化
K8s 服务编排 自动扩缩容
Istio 服务通信
Region 全球多验证节点多域名访问，根据用户配置或区域自行切换。
GSLB Global Server Load Balance DNS 负载均衡分担流量，突破单个LB QPS上限。

> 单 LB 上限 QPS 5W

GSLB 缺点：

* 对服务无感知，可能会把流量分发到异常节点上
  * 需要自行做节点监控状态检测

GTM Global Traffic Manager



## 验证模块

轨迹生成：贝塞尔曲线
相似度校验：

* 1）计算离散Fréchet距离
  * [论文](http://www.kr.tuwien.ac.at/staff/eiter/et-archive/cdtr9464.pdf)
  * [博客1](http://html.rhhz.net/WHDXXBXXKXB/html/2015-9-1225.htm)
  * [博客2](https://blog.csdn.net/YYZZHC999/article/details/105799826)
  * [golang 第三方实现]( https://github.com/artpar/frechet)
* 2）皮尔逊相关系数
  * [文档](https://www.jianshu.com/p/2b905cc44f25)
  * [具体公式](https://upload-images.jianshu.io/upload_images/2367137-85ed0f9874ef7a06.png)
* 3）面积重合部分占比
  * 只需要看比例，所以没有真正计算面积
    只根据到x轴或者y轴的距离计算了大概比例

三种方法按权重累积

