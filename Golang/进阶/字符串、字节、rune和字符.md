# 字符串、字节、rune和字符

> [go blog 原文](https://blog.golang.org/strings)



## 1. 概述

**string**就是只读的采用utf8编码的字节切片(slice) 因此用len函数获取到的长度并不是字符个数，而是字节个数。 for循环遍历输出的也是各个字节。

**rune**是int32的别名，代表字符的Unicode编码，采用4个字节存储，将string转成rune就意味着任何一个字符都用4个字节来存储其unicode值，这样每次遍历的时候返回的就是unicode值，而不再是字节了，这样就可以解决乱码问题了

**bytes**操作的对象也是字节切片，与string的不可变不同，byte是可变的，因此string按增量方式构建字符串会导致多次内存分配和复制，使用bytes就不会因而更高效一点



## 2. 其他

字符串包含字节。

Unicode 标准使用术语 “码点” 来指代由单个 Unicode 值表示的个体。具有十六进制值 2318 的码点 U + 2318 表示符号⌘。

总结一下，这是要点：

- Go 源代码始终为 UTF-8。
- 字符串可以包含任意字节。
- 字符串文字中不包含字节级转义符时字符串始终包含有效的 UTF-8 序列。
- 代表 Unicode 码点的字节序列称为 `rune`。
- 在 Go 中不会保证字符串中的字符被规范化



 `range` 循环在每次迭代中会解码一个 UTF-8 编码 rune。每次循环时，循环的索引都是当前 rune 的起始位置 (以字节为单位)，码点是其值